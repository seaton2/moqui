<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-1.3.xsd">

	<entity entity-name="SdProduct" package-name="warehouse">
		<field name="productId" type="id" is-pk="true">
			<description>Primary ID descriptive of item e.g. BA01</description>
		</field>
		<field name="catalogId" type="id" />
		<field name="categoryId" type="id" />
		<field name="gridId" type="id" />
		<field name="statusId" type="id" />
		<field name="defaultVendorId" type="id" />
		<field name="fromDate" type="date" />
		<field name="thruDate" type="date" />
		<relationship type="one" title="productCatalogId"
			related-entity-name="warehouse.SdCatalog">
			<key-map field-name="catalogId" />
		</relationship>
		<relationship type="one" title="enumId"
			related-entity-name="moqui.basic.Enumeration" fk-name="enumId">
			<key-map field-name="categoryId" />
		</relationship>
		<relationship type="one" title="statusId"
			related-entity-name="moqui.basic.StatusItem">
			<key-map field-name="statusId" />
		</relationship>
		<relationship type="one" title="gridId"
			related-entity-name="SdGridDefinition">
			<key-map field-name="gridId" />
		</relationship>
		<relationship type="one" title="catalogSectionId"
			related-entity-name="warehouse.SdCatalogSection">
			<key-map field-name="catalogSectionId" />
		</relationship>

	</entity>

	<entity entity-name="SdItem" package-name="warehouse">
		<field name="sku" type="id" is-pk="true" />
		<field name="productId" type="id" is-pk="true" />
		<field name="grossWeight" type="number-float" />
		<field name="netWeight" type="number-float" />
		<field name="availabilityId" type="id" />
		<field name="statusId" type="id" />

		<relationship type="one" title="productId"
			related-entity-name="warehouse.SdProduct" fk-name="productId">
<!-- 			<key-map field-name="productId" /> -->
		</relationship>
<!-- 		<relationship type="one" title="colorId" -->
<!-- 			related-entity-name="warehouse.SdColor" fk-name="colorId"> -->
<!-- 			<key-map field-name="colorId" /> -->
<!-- 		</relationship> -->
<!-- 		<relationship type="one" title="sizeId" -->
<!-- 			related-entity-name="warehouse.SdSize" fk-name="sizeId"> -->
<!-- 			<key-map field-name="sizeId" /> -->
<!-- 		</relationship> -->
		<relationship type="one" title="catalogId"
			related-entity-name="warehouse.SdCatalog" fk-name="catalogId">
<!-- 			<key-map field-name="catalogId" /> -->
		</relationship>
		<relationship type="one" title="statusId"
			related-entity-name="moqui.basic.StatusItem" fk-name="statusId">
<!-- 			<key-map field-name="statusId" /> -->
		</relationship>

	</entity>

	<entity entity-name="SdItemAttribute" package-name="warehouse">
		<field name="itemId" type="id" is-pk="true" />
		<field name="sku" type="id" />
		<field name="attributeTypeId" type="id" />
		<field name="attributeId" type="id" />
		<field name="attributeCode" type="id" />
		<field name="attributeDescription" type="text-short" />
	
		<relationship type="one" related-entity-name="warehouse.SdItem"/>
		<relationship type="one" related-entity-name="warehouse.SdAttribute"/>
		
	</entity>

	<entity entity-name="SdAttribute" package-name="warehouse">
		<field name="attributeId" type="id" is-pk="true" />
		<field name="attributeTypeId" type="id" />
		<field name="attributeCode" type="id" />
		<field name="attributeDescription" type="text-short" />
		<field name="isCombo" type="text-indicator" />

		<relationship type="one" related-entity-name="moqui.basic.Enumeration">
			<key-map field-name="enumId"/>
		</relationship>
		
	</entity>

	<entity entity-name="SdAttributeCombination" package-name="warehouse">
		<field name="attributeId" type="id" is-pk="true" />
		<field name="attribute1Id" type="id" />
		<field name="attribute2Id" type="id" />
		<field name="attribute3Id" type="id" />
		<field name="attribute4Id" type="id" />
		
		<relationship type="one" related-entity-name="warehouse.SdAttribute"/>
		
	</entity>

	<entity entity-name="SdGridDefinition" package-name="warehouse">
		<field name="gridId" type="id" is-pk="true" />
		<field name="productId" type="id" />
		<field name="attributeId" type="id" />
		<field name="xPosition" type="number-integer" />
		<field name="yPosition" type="number-integer" />
		<field name="zPosition" type="number-integer" />
		
		<relationship type="one" related-entity-name="warehouse.SdAttribute"/>
		<relationship type="one" related-entity-name="warehouse.SdProduct"/>
	</entity>
	
	<entity entity-name="SdGridTemplates" package-name="warehouse">
		<field name="templateId" type="id" is-pk="true" ></field>
		<field name="categoryId" type="id"></field>
		<field name="attributeId" type="id"></field>
		<field name="sequence" type="number-integer"></field>
		
		<relationship type="one" related-entity-name="warehouse.SdAttribute"/>
	</entity>

	<entity entity-name="SdGridItem" package-name="warehouse">
		<field name="gridId" type="id" />
		<field name="productId" type="id" />
		<field name="itemId" type="id" is-pk="true" />
		<field name="sku" type="id" />
		<field name="xPosition" type="number-integer" />
		<field name="yPosition" type="number-integer" />
		<field name="zPosition" type="number-integer" />
		
		<relationship type="one" related-entity-name="warehouse.SdProduct"/>
		<relationship type="one" related-entity-name="warehouse.SdItem"/>
		
	</entity>

	<entity entity-name="SdCatalog" package-name="warehouse"> <!-- Use parentId for self reference for subsections instead of having subsection 
			tables -->
		<field name="catalogId" type="id" is-pk="true"/>
		<field name="catalogName" type="text-short" />
		<field name="catalogDescription" type="text-short" />
		<field name="coverImageFile" type="text-long" />
		<field name="fromDate" type="date" />
		<field name="thruDate" type="date" />
		<field name="parentId" type="id" />

		<relationship type="one" related-entity-name="warehouse.SdCatalog" fk-name="catalogId">
			<key-map field-name="parentId"/>
		</relationship>
	
		<seed-data>
			<warehouse.SdCatalog catalogId="00001"
				catalogName="Classic2013" catalogDescription="Classic 2013" />
		</seed-data>
	</entity>

	<entity entity-name="catalogProducts" package-name="warehouse">
		<field name="productId" type="id" is-pk="true" />
		<field name="catalogId" type="id" />

		<relationship type="one" related-entity-name="warehouse.SdCatalog"/>
		<relationship type="one" related-entity-name="warehouse.SdProduct"/>
		
	</entity>

	<entity entity-name="SdProductDescription" package-name="warehouse">
		<field name="descriptionId" type="id" is-pk="true" />
		<field name="productId" type="id" is-pk="false" />
		<field name="descriptionText" type="text-long" />
		<field name="descriptionType" type="id" />
		<field name="seqNumber" type="number-integer" />
		<field name="descriptionLanguage" type="text-short" />
		<relationship type="one" related-entity-name="warehouse.SdProduct"
			fk-name="productId">
			<key-map field-name="productId" />
		</relationship>
		
		<seed-data>
			<!-- <warehouse.SdProductDescription productId="001" descriptionText="test 
				description" /> -->
		</seed-data>
	</entity>

	<entity entity-name="SdProductImage" package-name="warehouse">
		<field name="productId" type="id" is-pk="true" />
		<field name="imageType" type="id" />
		<field name="seqNumber" type="number-integer" />
		<field name="fileLocation" type="text-short" />
		<field name="fileName" type="text-short" />
		
		<relationship type="one" related-entity-name="warehouse.SdProduct"></relationship>
		
	</entity>

	<entity entity-name="SdProductPrice" package-name="warehouse">
		<field name="productId" type="id" is-pk="true" />
		<field name="wholesalePrice" type="currency-amount" />
		<field name="retailPrice" type="currency-amount" />
		<field name="msrp" type="currency-amount" />
		<field name="lastCost" type="currency-amount" />
		<field name="averageCost" type="currency-amount" />
		<field name="standardCost" type="currency-amount" />
		
		<relationship type="one" related-entity-name="warehouse.SdProduct"></relationship>
	</entity>

</entities>